         MACRO
&LABEL   XAL   &REG,&RTN
         GBLA  &XALCNT
         AIF   ('&REG' EQ 'GENERATE').LAST
&LABEL   ST    &REG,XALSAVE+&XALCNT SAVE LINK REGISTER
         BAL   &REG,&RTN           ENTER THE REQUIRED ROUTINE
         L     &REG,XALSAVE+&XALCNT AND RELOAD REGISTER ON RETURN
&XALCNT  SETA  &XALCNT+4           INCREMENT TO NEXT SAVE AREA
         MEXIT
.LAST    ANOP
XALSAVE  DS    0F                  SAVE AREA FOR LINK REGISTERS
         DS    &XALCNT.C           SUFFICIENT LENGTH FOR ALL LINK REGS
         MEND
