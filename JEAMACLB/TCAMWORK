         MACRO
         TCAMWORK
TCAMWORK DSECT
         DS    18A                 REGISTER SAVE AREA
MOPEINQ  DS    CL104               INPUT Q DCB
MOPEOUTQ DS    CL104               OUTPUT Q DCB
STAKREGS DS    2F                  SAVE AREA FOR GETMAIN REGISTERS
STAKADDR DS    F                   ADDRESS OF TOP OF THE USER STACK
MAINWAIT DS    F                   ECB FOR MAIN TASK WAITS
TASKWAIT DS    F                   AND FOR COMMUNICATION WAITS
OPENLIST DS    2F                  BUILD AREA FOR OPEN MACRO
ECBLIST  DS    32F                 BUILD AREA FOR WAIT ECB LIST
STIMRECB DS    F                   USED WITH STIMER TO PREVENT LOCKOUT
PUTTCB   DS    F                   ADDRESS OF IO PROCESSOR ECB
GETTCB   DS    F                   ADDRESS OF IO PROCESSOR ECB
TCAMWLEN EQU   *-TCAMWORK          LENGTH OF THE WORK AREA
         SPACE 2
TERMENTY DSECT ,                   FORMAT OF TERM. USER TABLE
TERMCHN  DS    F                   CHAINING FIELD
TERMNAME DS    CL8                 NAME OF THE TERMINAL LOGGED ON
TERMTCB  DS    F                   ADDRESS OF THE TASK PROCESSING IT
TERMIECB DS    F                   INPUT ECB
TERMOECB DS    F                   OUTPUT ECB
TERMISTK DS    F                   ADDRESS OF STACK OF INPUT DATA
TERMOSTK DS    F                   ADDRESS OF STACK OF OUTPUT DATA
TERMLEN  EQU   *-TERMENTY          LENGTH OF A STACK ENTRY
         SPACE 2
INBLOCK  DSECT
INCHAIN  DS    F                   CHAIN FIELD FOR IO BLOCKS
INGETMN  DS    F                   GETMAINED LENGTH OF THIS AREA
INBUFF   DS    0F                  INPUT BUFFER AS TCAM SEES IT
INLENTH  DS    H                   LENGTH OF DATA RECEIVED
         DS    H                   PADDING FIELD
INUSERID DS    CL8                 NAME OF THE TERMINAL
INDATA   DS    C                   DATA ACTUALLY RETURNED
         SPACE 2
OUTBLOCK DSECT
OUTCHAIN DS    F                   CHAIN FIELD FOR IO BLOCKS
OUTGETMN DS    F                   GETMAINED LENGTH OF THIS AREA
OUTBUFF  DS    0F                  OUT BUFFER AS TCAM SEES IT
OUTLENTH DS    H                   LENGTH OF DATA RECEIVED
         DS    H                   PADDING FIELD
OUTUSRID DS    CL8                 NAME OF THE TERMINAL
OUTWCC   DS    C                   WRITE CONTROL CHARACTER
OUTDATA  DS    C                   DATA ACTUALLY RETURNED
         MEND
