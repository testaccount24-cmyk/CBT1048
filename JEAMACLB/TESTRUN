//JEASCRTH JOB (1140,5),'J ABBEY',CLASS=N
// EXEC PGM=IEFBR14
//DD DD DSN=JEA.GAFMOII,DISP=(OLD,DELETE)
//JEATEST JOB (1140,5),'J ABBEY',CLASS=N
// EXEC ASMFCLG,L=H
TEST     ZCSECT
         LOAD  EP=GAFMOII
         ST    REG0,GAFMOII
         L     REG15,GAFMOII
         CALL  (15),(OPEN,0,PSBAREA),VL
         OPEN  (SYSIN,INPUT)
LOOP     GET   SYSIN
         LR    REG2,REG1
         PACK  DBLWORD,0(4,REG2)
         CVB   REG1,DBLWORD
         SLL   REG1,16
         ST    REG1,0(REG2)
         L     REG15,GAFMOII
         CALL  (15),(INSERT,(2),PCBAREA),VL
         LTR   REG15,REG15
         BZ    LOOP
         ABEND 100,DUMP
EODAD    L     REG15,GAFMOII
         CALL  (15),(CLOSE,0,PSBAREA),VL
         CLOSE (SYSIN)
         ZRETURN
DBLWORD  DS    D
OPEN     DC    C'OPEN'
INSERT   DC    C'ISRT'
CLOSE    DC    C'CLOS'
GETNEXT  DC    CL4'GN'
PSBAREA  DC    CL8'JEAPSB1'
         DC    CL8' '
PCBAREA  DC    CL8'JEAPCB1'
         DC    CL8' '
GAFMOII  DS    F                   ADDRESS OF GAFMOII
         PRINT NOGEN
SYSIN    DCB   DDNAME=SYSIN,DSORG=PS,MACRF=GL,EODAD=EODAD
         END
//GO.SYSUDUMP DD SYSOUT=A
//STEPLIB DD DSN=SYS2.TESTLIB,DISP=SHR
//SYSUT2 DD DSN=JEA.GAFMOII,UNIT=SYSDA,DISP=(,CATLG),
// SPACE=(CYL,(1,1)),DCB=(LRECL=100,BLKSIZE=504,RECFM=VB)
//SYSUT1 DD DUMMY,DCB=(LRECL=80,BLKSIZE=84)
//SYSIN DD *
0020ROOT    NO1
0030SEG1    ROOT1 SEG1 NO1
0030SEG1    ROOT1 SEG1 NO2
0030SEG1    ROOT1 SEG1 NO3
0050SEG2    ROOT1 SEG1 NO3 SEG2 NO1
