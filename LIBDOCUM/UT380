1************
 * UT380    *
 ************
0UT380
 -----
01. PURPOSE
 ----------
0   TO PERMIT AN RPG PROGRAM THE ABILITY TO SET A
    CONDITION CODE THAT WOULD BE TESTED IN SUBSEQUENT
    JOB STEPS.  THIS WOULD ALLOW CERTAIN OR ALL STEPS
    IN THE JOB STREAM TO BE EXECUTED OR NOT EXECUTED.
02. LIMITATIONS
 --------------
0   1.   THE RPG PROGRAM MUST USE THE NAME SETNUM FOR
         THE RESULT FIELD THAT WILL CONTAIN THE
         CONDITION CODE.  SETNUM IS A 4 BYTE NUMERIC
         FIELD WITH LEADING ZEROS.
0   2.   THE 'H' CONTROL CARD OF RPG PROGRAMS OR THE
         FIRST CARD OF AN RPG PROGRAM MUST HAVE BLANKS
         OR 'RPGOBJ' IN THE PROGRAM ID FIELD COLUMNS
         75-80.
0   3.   THE USER MUST ADD JCL TO HIS LKED STEP IN ORDER
         TO MAKE PROPER USE OF RPGSET.
03. INPUT
 --------
0   NONE
04. OUTPUT
 ---------
0   NONE
05. OPERATION
 ------------
0   RPGSET IS THE SUBROUTINE THAT SETS CONDITION CODES
    IN AN RPG PROGRAM.  RPG USES AN EXIT STATEMENT RATHER
    THAN A CALL STATEMENT AS IN FORTRAN, COBOL, ETC.
    RPGSET IS IN MISDLIB.
0   THE ONLY PARAMETER USED BY RPGSET IS SETNUM WHICH MUST
    APPEAR IN A ULABL STATEMENT.  IT MUST BE 4 BYTES IN
    LENGTH AND CONTAIN A NUMERIC VALUE, 0 TO 9999, WITH
    LEADING ZEROS.
1************
 * UT380    *
 ************
06. EXAMPLE
 ----------
0   1.   COMPILE LINK-EDIT AND GO.
0        //RPGPROG   EXEC RPGECLG
         //RPG.SYSIN DD *
               RPG   SOURCE
                   .
                   .
                   .
                   .
                     MOVE  '0005' SETNUM004
                     EXIT  RPGSET
                     ULABL        SETNUM
                   .
                   .
                   .
                   .
         /*
         //LKED.SYSLIB DD DSN=MISDLIB,DISP=SHR
         //LKED.SYSIN  DD *
               ENTRY     RPG378
         /*
         //GO.SYSXXX   DD DSN=...
                   .
                   .
                   .
                   .
         /*
0   2.   COMPILE AND LINK-EDIT INTO USER LIBRARY.
         THE COMPILE IS IDENTICAL TO ABOVE
         //RPGPROG  EXEC RPGECL
         //RPG.SYSIN DD *
               RPG  SOURCE
         /*
         //LKED.SYSLMOD DD DSN=USERLIG,DISP=SHR
         //LKED.SYSLIB DD DSN=MISDLIB,DISP=SHR
         //LKED.SYSIN DD *
                ENTRY RPG378
                NAME  RPGPROGM(R)
         /*
1************
 * UT380    *
 ************
0   3.   LINK EDIT INTO USER LIBRARY.
         //LKEDRPG     EXEC LKED
         //LKED.SYSLMOD DD  DSN=USERLIB,DISP=SHR
         //LKED.SYSLIB  DD  DSN=MISDLIB,DISP=SHR
         //LKED.SYSIN   DD  *
               (RPG OBJECT DECK)
               ENTRY RPG378
               NAME  RPGPROGM(R)
         /*
0        IF THE RPGSET OBJECT DECK IS INCLUDED ON SYSIN,
         THEN THE LKED.SYSLIB IS NOT REQUIRED.
0   4.   EXECUTE JOB STREAM.
0        //JOBLIB DD DSN=USERLIB,DISP=SHR
         //STEP1  EXEC PRM=RPGPROGM
           .
           .
           .
         //STEP3  EXEC PGM=PROGM3,COND=(10,LT)
           .
           .
           .
         //STEP7  EXEC PGM=PROGM7,COND=(10,GT)
           .
           .
           .
         //STEP10 EXEC PGM=PROGM10,COND=(10,EQ)
           .
           .
           .
         //STEP13 EXEC PGM=PROGM13,COND=(5,EQ)
           .
           .
           .
0        IF STEP1, THE RPG PROGRAM, SETS A CONDITION CODE
         OF 5, THEN STEP3 AND STEP10 WOULD BE EXECUTED.
         STEP3 AND STEP13 WOULD BE SKIPPED AND NOT EXECUTED.
1************
 * UT380    *
 ************
01. PURPOSE:
 -----------
    THIS SUBROUTINE PROVIDES A FAST METHOD OF SEARCHING A
    TABLE WITH EITHER A CHARACTER OR PACKED DECIMAL TABLE
    ARGUMENTS.  (SYNONYMOUS TO KEY)
02. LIMITATIONS:
 --------------
          1.  THE TABLE ARGUMENT AND THE SEARCH ARGUMENT
              MUST BE IN THE SAME FORM.
          2.  THE SIZE OF THE ARGUMENT IS LIMITED TO 18
              INTEGERS OF PACKED DATA OR 255 CHARACTERS.
03. INPUT DATA:
 -------------
    NONE
04. OUTPUT DATA:
 --------------
    NONE
05. OPERATION:
 ------------
    CALLING SEQUENCE:
    COBOL:  CALL 'UT380' USING TABLE, TBL-NUM, TBL-LEN,
              SEARCH, SRCH-LEN, INDEX, ARG-MODE, TYPE-SRCH.
    THE PARAMETERS ARE:
    TABLE     THE 01 ENTRY OF THE TABLE.
    TBL-NUM   THE NUMBER OF ENTRIES IN THE TABLE.  THIS NUMBER
              IS THE ACTUAL NUMBER OF ITEMS IN THE TABLE, NOT
              THE SPACE RESERVED.
    TBL-LEN   THE LENGTH IN BYTES OF EACH ENTRY.  THIS INCLUDES
              THE ARGUMENT AND THE FUNCTION IF THEY RESIDE TOGETHER
    SEARCH    THE DATA NAME OF THE SEARCH ARGUMENT.
    SRCH-LEN  THE LOGICAL LENGTH OF THE SEARCH ARGUMENT. (MUST
              BE EQUAL TO THE LENGTH OF THE TABLE ARGUMENT.)
