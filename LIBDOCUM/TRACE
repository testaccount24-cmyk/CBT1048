1************
 * TRACE    *
 ************
01. PURPOSE
 ----------
0   THIS PROGRAM WAS DESIGNED TO FACILITATE TESTING AND
    DEBUGGING BY TRACING THE FLOW OF INSTRUCTIONS THROUGH
    A USER PROGRAM.  THE OUTPUT CONSISTS OF A LISTING OF
    THE SELECTED INSTRUCTIONS IN BAL FORMAT WITH THE
    DATA BEFORE AND AFTER EXECUTION.
02. LIMITATIONS
 --------------
0   1.   IF THE PROGRAM TO BE TRACED ISSUES THE EXTRACT SVC
         (SVC 40) THE PROGRAM MAY ABEND WITH S 328.
0   2.   TRACE WILL LOSE CONTROL IF AN ASYNCHRONOUS ROUTINE IS
         ENTERED, OR IF THE SUPERVISOR RETURNS CONTROL TO
         A ROUTINE NOT IMMEDIATELY FOLLOWING THE ROUTINE BEING
         TRACED.
0   3.   A MAXIMUM OF 3 FULL WORDS OF DATA CAN BE PRINTED FOR
         EACH OPERAND, SO THE DATA MAY BE INCOMPLETE FOR
         INSTRUCTIONS SUCH AS MVC (MOVE), LM (LOAD MULTIPLE),
         AND STM (STORE MULTIPLE).
0   4.   AFTER TRT (TRANSLATE AND TEST) AND EDMK (EDIT AND
         MARK) THE CONTENTS OF REGISTERS 1 AND 2 WILL NOT
         BE PRINTED OUT.
0   5.   THE EXTENDED MNEMONICS MAY BE MISLEADING AFTER A
         TRT (TRANSLATE AND TEST) OR EDMK (EDIT AND MARK)
         INSTRUCTION.  (CONDITION 8 WILL HAVE THE CORRECT
         MNEMONIC, BUT CONDITIONS 4 AND 2 WILL NOT).
03. INPUT.
 ---------
0   THE INPUT TO TRACE IS A SINGLE CONTROL CARD OF THE
    FOLLOWING FORMAT :
1************
 * TRACE    *
 ************
0 C.C.
0 1 - 4       TOTAL NUMBER OF INSTRUCTIONS TO BE PRINTED (IN
              HEXADECIMAL).  THE MAXIMUM THAT MAY BE CODED IS
              7FFF (32767), BUT IF THE FIELD IS LEFT BLANK,
              A DEFAULT OF 7FFFFFFF IS ASSUMED (I.E. NO PRACTICAL
              LIMIT).
0 5 - 12      LOWER LIMIT OF INSTRUCTIONS TO BE TRACED (IN
              HEXADECIMAL).  THIS LIMIT IS EXPRESSED AS A DISPLACE-
              MENT FROM THE ENTRY POINT, AND IF THE FIELD IS BLANK,
              THE ENTRY POINT ADDRESS IS USED.
0 13 - 20     UPPER LIMIT OF INSTRUCTIONS TO BE TRACED (IN
              HEXADECIMAL).  THIS LIMIT IS EXPRESSED AS A
              DISPLACEMENT FROM THE ENTRY POINT, AND IF THE FIELD
              IS BLANK, ALL INSTRUCTIONS WITH AN ADDRESS HIGHER
              THAN THE ENTRY POINT WILL BE PRINTED.
0 21 - 28     NAME OF THE PROGRAM TO BE TRACED.  THE LIBRARY
              CONTAINING THIS PROGRAM MUST BE SPECIFIED IN THE
              JOBLIB OR STEPLIB DD STATEMENT.
0 29 - 36     ADDRESS RELATIVISOR.  IF BLANK, INSTRUCTION AND OPERAND
              ADDRESSES ARE PRINTED AS ACTUAL MACHINE ADDRESSES.
              OTHERWISE, ALL ADDRESSES ARE MADE RELATIVE TO THE
              ADDRESS SPECIFIED IN THIS FIELD.  THIS ENABLES
              ADDRESSES TO BE MATCHED TO ASSEMBLY LISTING ADDRESSES.
              I.E.  IF USED, THIS FIELD SHOULD CONTAIN THE ENTRY
              POINT ADDRESS FROM THE LINK EDIT MAP OF THE PROGRAM
              BEING TRACED.
0 37 - 40     NUMBER OF PROGRAM CHECKS OF TYPES OC4 - OC15 TO BE
              SUPPRESSED BEFORE ABEND.  IF THIS FIELD IS BLANK,
         0001 IS ASSUMED.
0 41 - 44     MAXIMUM DURATION OF TRACE (IN ELAPSED TIME) IN THE
              FORM MMSS.  IF THIS FIELD IS BLANK, NO INTERVAL
              IS SET.
0 45 - 68     BLANK.
0 69          'B' IF ONLY SUCCESSFUL BRANCHES ARE TO BE PRINTED.
0 70 - 80     BLANKS.
1************
 * TRACE    *
 ************
04. OUTPUT
 ---------
0   THE OUTPUT OF TRACE IS A PRINTOUT OF THE SELECTED
    INSTRUCTIONS.  HEADINGS, AND HORIZONTAL AND VERTICAL
    FORMS LINES ARE PRODUCED BY TRACE TO MAKE THE REPORT
    MORE READABLE, AND THE DETAIL LINES THEMSELVES ARE
    IN THE FOLLOWING FORMAT :
    P.P.
0   2 -  7    CURRENT INSTRUCTION ADDRESS.
0   9 -  10   FLAGS - ** = SUCCESSFUL BRANCH
                      S* = SUPERVISOR CALL
                      P* = PROGRAM CHECK.
0   11 - 38   INSTRUCTION CODE IN BAL FORM, AND ALL ADDRESSES
              PRINTED AS A SIX CHARACTER HEXADECIMAL ADDRESS.
0   40 - 65   FIRST OPERAND DATA BEFORE EXECUTION.
0   67 - 92   SECOND OPERAND DATA BEFORE EXECUTION.
0   93 -119   FIRST OPERAND DATA AFTER EXECUTION.
0   THE LAST THREE FIELDS CONTAIN A MAXIMUM OF TWELVE BYTES
    OF DATA IN HEXADECIMAL FORMAT, AND THEY ARE ONLY
    PRINTED IF THE CONTENTS PROVIDE USEFUL INFORMATION.
05. OPERATION
 ------------
0   THE JOB CONTROL STATEMENTS REQUIRED WILL BE THE SAME AS
    THOSE NORMALLY REQUIRED BY THE PROGRAM TO BE TRACED,
    WITH THE FOLLOWING EXCEPTIONS :
0   1.   THE EXEC STATEMENT SHOULD SPECIFY PGM=TRACE INSTEAD
         OF PGM=PROGRAM NAME.  NOTE THAT THE PARM AND COND
         PARAMETERS MAY BE CODED IN THE USUAL WAY : TRACE
         PASSES ANY PARM FIELD SUPPLIED TO THE PROGRAM TO BE
         TRACED.
0   2.   TWO EXTRA DD  STATEMENTS ARE REQUIRED TO DEFINE
         THE OUTPUT REPORT AND THE CONTROL CARD : TO WHIT
         //TRACEOUT   DD   SYSOUT=A
         //TRACEIN    DD   *
         CONTROL CARD
         /*
1************
 * TRACE    *
 ************
0        THE TRACING TERMINATES WHEN ANY OF THE FOLLOWING
         CONDITIONS OCCURS :
0        INSTRUCTION PRINT COUNT HAS REACHED THE SPECIFIED LIMIT.
0        THE SPECIFIED TIME LIMIT HAS ELAPSED.
0        THE USER PROGRAM ABENDS AND THE SPECIFIED LIMIT HAS
         BEEN REACHED.
0        THE USER PROGRAM COMPLETES.
0        UPON TERMINATION, TRACE WILL ABEND WITH USER CODE 111 IF
         THE REASON OF TERMINATION IS COMPLETION OF THE USER
         PROGRAM, AND WITH A USER CODE OF 222 FOR ANY OTHER
         REASON, BUT IN NEITHER CASE WILL A DUMP BE PRODUCED.
