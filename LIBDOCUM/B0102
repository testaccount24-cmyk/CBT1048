1************
 * B0102    *
 ************
0B0102
 -----
01. PURPOSE
 ----------
0   PROGRAM B0102 BUILDS A DATA SET ON DIRECT ACCESS DEVICES
    USING THE ISAM MACROS.
02. LIMITATIONS
 --------------
0   1. THE ISAM FILE WILL BE CONSTRUCTED WITH FIXED LENGTH
       BLOCKED RECORDS.
0   2. RECORDS MUST BE IN SEQUENTIAL ORDER BY KEY AT THE
       TIME THE ISAM DATA SET IS CREATED.
0   3. USERS MUST SUPPLY DD CARDS FOR SYSOUT AND SYSABEND
       IF THE CATALOGUED PROCEDURE USED DOES NOT.
03. INPUT DATA
 -------------
0   PHYSICAL SEQUENTIAL DATA SET AS DESCRIBED BY THE USER ON
    THE INPUT DD CARD FOR THE FILE.  THE DCB ATTRIBUTES THAT
    MUST BE PRESENT ARE:     LRECL
                             BLKSIZE
                             RECFM
0   ADDITIONAL PARAMETERS MAY BE USED TO FURTHER DESCRIBE THE
    DATA SET.
0   LOGICAL RECORDS IN CARD IMAGE FORM MAY BE USED AS INPUT BY
    THE USER WHEN DESIRED.  THIS USAGE IS DESCRIBED IN SECTION V,
    CARD INPUT.
0                       *5B *5B *
0   THE LRECL OF THE ISAM  DCB  DETERMINES NOT ONLY WHAT THE
    LOGICAL RECORD LENGTH OF THE ISAM DATA SET WILL BE BUT,
    IN ESSENCE, HOW MANY BYTES WILL BE MOVED FROM THE INPUT
    LOGICAL RECORD IN CONSTRUCTING THE INDEXED SEQUENTIAL
    DATA SET.
0                       *5B *5B *
1************
 * B0102    *
 ************
 -----
04. OUTPUT DATA
 --------------
0   THE OUTPUT IS AN INDEXED SEQUENTIAL DATA SET AS DESCRIBED
    BY THE USER ON THE OUTPUT DD CARD FOR THE FILE.  THE DCB
    ATTRIBUTES THAT MUST BE PRESENT ARE DESCRIBED IN SECTION VI.
05. OPERATION
 ------------
0   B0102 HAS BEEN CATALOGUED AND PLACED IN THE OS/360 LIBRARY.
    THE FOLLOWING CONTROL CARDS ARE REQUIRED TO CAUSE LOADING
    AND EXECUTION OF THE PROGRAM:
0   //CREATE      JOB
0   //JOBLIB       DD   DSNAME=MISDLIB,DISP=(,OLD,PASS)
0   //STEP01     EXEC   PGM=B0102
0   //SYSOUT       DD   SYSOUT=A,DCB=(,LRECL=120,BLKSIZE=120)
0   //SYSABEND     DD   SYSOUT=A
0   //SYSPRINT     DD   SYSOUT=A
0   //ISAMDATA     DD   SEE VI (INDEXED SEQUENTIAL OUTPUT DATA SET)
0   //INDATA       DD   SEE VI (PHYSICAL SEQUENTIAL INPUT DATA SET)
0    /*
0   THE FOLLOWING MODIFICATIONS ARE USED FOR CARD INPUT,
0   //INDATA       DD   DDNAME=SYSIN
0   //SYSIN        DD   *
             CARD INPUT
0   /*
06. JCL INFORMATION
 ------------------
0   ISAMDATA IS THE DD NAME FOR THE INDEXED SEQUENTIAL OUTPUT
    DATA SET.
0   INDATA IS THE DD NAME FOR THE PHYSICAL SEQUENTIAL INPUT
    DATA SET.
0   THE FOLLOWING PARAMETERS MUST BE PRESENT IN THE USER'S JCL:
1************
 * B0102    *
 ************
0   ISAMDATA DD CARD
 -------------------
         DSNAME
         SPACE
         DISP
         UNIT
         VOLUME
         DCB:
                DSORG=IS          INDEXED SEQUENTIAL METHOD
               OPTCD=W            PERFORM WRITE VALIDITY CHECK
                      M           CREATE MASTER INDEXES
                      Y           USE CYLINDER OVERFLOW AREAS
                      I           USE INDEPENDENT OVERFLOW AREA
                      L           DELETE OPTION ON RECORDS
                      R           PROVIDE REORGANIZATION CRITERIA
                                  FEEDBACK
          (OPTCD=WMYILR           IS THE RECOMMENDED STANDARD)
               RECFM=FB           FIXED LENGTH BLOCKED RECORDS
               LRECL=             LOGICAL RECORD LENGTH + 1
              BLKSIZE=            INTEGRAL MULTIPLE OF LRECL
                  RKP=            RELATIVE KEY POSITION IN THE RECORD.
                                  E.G. KEY STARTS IN COLUMN 1, RKP=1.
              KEYLEN=             LENGTH OF RECORD KEY
                 NTM=             NUMBER OF TRACKS TO BE CONTAINED IN
                                  A CYLINDER INDEX BEFORE HIGHER LEVEL
                                  INDEX IS CREATED
              CYLOFL=             NUMBER OF TRACKS TO BE RESERVED ON
                                  EACH CYLINDER TO HOLD OVERFLOW RECORDS
                                  FROM TRACKS ON THAT CYLINDER
0   THE USER SHOULD READ THE RECOMMENDED REFERENCE MANUALS TO
    PROPERLY MAKE USE OF THE ISAM PARAMETERS NEEDED ON THE DD
    CARDS.
0   INDATA  DD  CARD
 -------------------
         DSNAME
         UNIT
         DISP
         DCB:
               RECFM=FB          FIXED LENGTH BLOCKED
                     =F          FIXED LENGTH
               LRECL=            LOGICAL RECORD LENGTH
              BLKSIZE=           INTEGRAL MULTIPLE OF LRECL
         USE ADDITIONAL PARAMETERS AS NEEDED.
0   WHEN INDATA IS CARD INPUT FOLLOW THE JCL SPECIFIED IN
    SECTION V FOR THIS DD CARD.
1************
 * B0102    *
 ************
07. EXAMPLE
 ----------
0   //B0102       JOB
0   //JOBLIB       DD   DSNAME=MISDLIB,DISP=(OLD,PASS)
0   //STEP01     EXEC   PGM=B0102
0   //SYSOUT       DD   SYSOUT=A,DCB=(,LRECL=120,BLKSIZE=120)
0   //SYSABEND     DD   SYSOUT=A
0   //SYSPRINT     DD   SYSOUT=A
0   //ISAMDATA     DD   DSNAME=CD001(PRIME),
0   //                  DISP=(NEW,PASS),UNIT=193,VOLUME=SER=DSK03,
0   //                  SPACE=(CYL,8,,CONTIG),
0   //                  DCB=(,DSORG=IS,OPTCD=WMYLIR,RECFM=FB,NTM=20,
0   //                  RKP=1,KEYLEN=12,CYLOFL=2,LRECL=161,
0   //                  BLKSIZE=3542)
0   //             DD   DSNAME=CD001(OVFLOW),DISP=(NEW,PASS),
0   //                  DSB=(,DSORG=IS),SPACE=(CYL,4,,CONTIG),
0   //                  UNIT=193,VOLUME=SER=DSK003
0   //INDATA       DD   DSNAME=&DATA,DISP=(OLD,PASS),UNIT=TAPE9,
0   //                  DCB=(,LRECL=160,BLKSIZE=160,RECFM=FB)
0   /*
08. OPERATIONAL REQUIREMENTS AND COMMENTS
 ----------------------------------------
0   1. THE RECORD KEY MAY NOT EXCEED 40 BYTES AND MUST BE
       PART OF THE RECORD.
0   2. DUPLICATE RECORD KEYS ARE NOT ALLOWED.
0   3. THE RKP VALUE IN THE DCB MUST NOT EXCEED THE RECORD
       LENGTH MINUS THE KEY LENGTH.
0   4. THE SPACE PARAMETERS MUST BE IN THE FOLLOWING FORM:
          SPACE=(CYL, NO. OF CYLINDERS,,CONTIG)
0   5. PASS OR KEEP MUST BE USED IN THE DISP PARAMETER.
       DATA SETS MAY BE CATALOGUED WITH THE IEHPROGM UTILITY.
0   6. THE DATA SET MAY BE MULTI-VOLUME.
1************
 * B0102    *
 ************
09. BIBLIOGRAPHY
 ---------------
0   1. CONTROL PROGRAM SERVICES, C28-6541-2 INCLUDING
       N28-2204, N28-2195, N28-2122, N28-2121, SECTION 3,
       QISAM.
0   2. JOB CONTROL LANGUAGE, C28-6539-4 INCLUDING
       N28-2214, N28-2226, SPECIAL APPLICATIONS OF THE
       CONTROL STATEMENTS (INDEX SEQUENTIAL DATA SETS).
