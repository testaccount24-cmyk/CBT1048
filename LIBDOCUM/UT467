1************
 * UT467    *
 ************
01. PURPOSE
 ----------
0   THE PURPOSE OF UT467 IS TO PURGE FROM A SEQUENTIAL
    DATA EITHER RECORDS WITH DUPLICATE KEYS OR DUPLICATE
    RECORDS, WHILE LEAVING THE UNTOUCHED RECORDS IN THEIR
    ORIGINAL SEQUENCE.  OPTIONALLY, ADDITIONAL OUTPUT
    DATA SETS ARE AVAILABLE CONTAINING THE RETAINED RECORDS
    IN ASCENDING KEY SEQUENCE, AND ALSO THE REJECTED RECORDS
    IN ASCENDING KEY SEQUENCE.
0   ALTHOUGH ORIGINALLY ENVISAGED AS A TROUBLE-SHOOTING
    TOOL FOR CLEANSING DATA SETS THAT HAVE BEEN INADVERTENTLY
    CONTAMINATED BY RE-RUNS, IT CAN ALSO BE USED BEFORE
    A RIGAM OR ISAM FILE IS LOADED BOTH TO GET THE DATA
    INTO ASCENDING KEY SEQUENCE AND ALSO TO ENSURE THAT NO
    DUPLICATE KEYS ARE PRESENT.
02. LIMITATIONS
 --------------
0   1.   ONLY SEQUENTIAL DATA SETS MAY BE PROCESSED.
    2.   BECAUSE THE PROGRAM DYNAMICALLY INVOKES THE SORT/
         MERGE, CERTAIN SORT/MERGE DD STATEMENTS (LISTED
         LATER) ARE MANDATORY.
    3.   ONLY FIXED LENGTH RECORDS MAY BE PROCESSED.
03. INPUT DATA
 -------------
0   1.   PARM STATEMENT :
0        KEYWORD PARAMETERS IN THE PARM STATEMENT OF THE
         INVOKING EXEC STATEMENT DEFINE THE POSITION AND LENGTH
         OF THE KEY IN THE RECORD.  THE KEYWORDS ARE : RKP -
         THIS KEYWORD INDICATES THE POSITION OF THE KEY
         RELATIVE TO THE START OF THE RECORD AND, TO CONFORM
         WITH STANDARD IBM USAGE, A KEY STARTING IN THE FIRST
         BYTE OF A RECORD WOULD BE DESIGNATED BY RKP=0.
         KEYLEN - THIS KEYWORD SPECIFIES THE LENGTH OF THE KEY.
1************
 * UT467    *
 ************
0        IF NO PARM STATEMENT IS PRESENT, THE ENTIRE RECORD
         IS CONSIDERED TO CONSTITUTE THE KEY, AND THE FILE
         IS SCANNED FOR DUPLICATE RECORDS.
0   2.   SYSUT1 STATEMENT
         THE ONLY OTHER INPUT REQUIRED BY THE PROGRAM IS THE
         DATA SET TO BE SEARCHED FOR THE DUPLICATE KEYS,
         AND THIS DATA SET IS ASSOCIATED WITH THE SYSUT1 DD
         STATEMENT.
04. OUTPUT DATA
 --------------
0   THERE ARE A NUMBER OF OUTPUT DATA SETS, ALL OF WHICH
    ARE OPTIONAL (I.E. IF THE RELEVANT DD STATEMENT IS
    MISSING, THE DATA SET IS NOT CREATED), AND THESE
    ARE DEALT WITH IN SECTION V (OPERATION).
0   IN ADDITION TO THESE VARIOUS OUTPUT DATA SETS, UT467
    RETURNS A COMPLETION CODE WHICH MAY BE TESTED BY
    SUBSEQUENT STEPS TO DETERMINE WHETHER OR NOT
    EXECUTION WAS SUCCESSFUL.  THE POSSIBLE VALUES
    OF THIS CODE, AND THE ASSOCIATED MEANINGS ARE AS
    FOLLOWS :
0   0 -  NO ERRORS ENCOUNTERED DURING PROCESSING.
    4 -  INVALID INFORMATION IN THE PARM FIELD : ALL
         PARAMETERS WERE IGNORED AND THE DATA SET WAS
         SCANNED FOR DUPLICATE RECORDS.
    12-  AS I/O ERROR WAS ENCOUNTERED DURING PROCESSING
         AND THE PROGRAM TERMINATED IMMEDIATELY.  (MORE
         DETAILED INFORMATION WILL HAVE BEEN WRITTEN ON
         OPERATOR'S CONSOLE, AND TO THE SYSPRINT DATA SET).
    16-  A MANDATORY DD STATEMENT WAS MISSING : PROCESSING
         WAS BYPASSED.  THE MISSING DD STATEMENT(S)
         WILL HAVE BEEN IDENTIFIED ON SYSPRINT.
   OR -  AN ERROR WAS DETECTED BY THE INVOKED SORT/MERGE:
         PROCESSING WAS TERMINATED.  THE ERROR WILL HAVE
         BEEN EXPLAINED ON SORTLIST.
1************
 * UT467    *
 ************
05. OPERATION
 ------------
0   FULL EXECUTION OF UT467 REQUIRES TWELVE DD STATEMENTS,
    ONLY SIX OF WHICH ARE MANDATORY - IF AN OPTIONAL DD
    STATEMENT IS MISSING, THEN THE FUNCTION ASSOCIATED
    WITH IT IS INTERNALLY BYPASSED.  THE COMPLETE JCL
    REQUIRED TO INVOKE AND EXECUTE UT467 IS AS FOLLOWS :
0   1.   EXEC STATEMENT
         --------------
0        THIS STATEMENT IDENTIFIES UT 467 AND, OPTIONALLY,
         DEFINES THE POSITION OF THE KEY WITHIN THE RECORD.
         IT WOULD NORMALLY BE CODED AS FOLLOWS :
0        //STEPNAME   EXEC   PGM=UT467
0        OR
0        //STEPNAME   EXEC   PGM=UT467,PARM="RKP=2,KEYLEN=7"
0   2.   SORTLIST DD STATEMENT         (MANDATORY)
         ---------------------
0        THIS MANDATORY DD STATEMENT DEFINES THE MESSAGE
         DATA SET USED BY THE DYNAMICALLY INVOKED SORT/
         MERGE PROGRAM, AND IS USUALLY WRITTEN AS :
0        //SORTLIST   DD   SYSOUT=A
0   3.   SORTLIB  DD STATEMENT         (MANDATORY)
         ---------------------
0        THIS MANDATORY DD STATEMENT DEFINES THE SYSTEM
         DATA SET CONTAINING THE MANY COMPONENTS OF THE
         SORT/MERGE, AND IT SHOULD BE WRITTEN AS
0        //SORTLIB   DD   DSN=SYS1.SORTLIB,DISP=SHR
0   4.   SORTWK01/2/3                  (MANDATORY)
         ------------
0        THESE MANDATORY DD STATEMENTS DEFINE WORK DATA SETS
         USED BY THE DYNAMICALLY INVOKED SORT/MERGE.
         MORE WORK DATA SETS MAY BE SPECIFIED IF NECESSARY,
         BUT AT LEAST THREE MUST BE SUPPLIED, AND WOULD
         NORMALLY BE OF THE FORM :
0        //SORTWKNN   DD   UNIT=SYSDA,SPACE=(CYL,X,,CONTIG)
1************
 * UT467    *
 ************
0   5.   SYSUT1  DD STATEMENT          (MANDATORY)
         --------------------
0        THIS MANDATORY DD STATEMENT DEFINES THE DATA SET
         TO BE SCANNED FOR DUPLICATE KEYS, AND IS NORMALLY
         WRITTEN :
0        //SYSUT1  DD  DSN=NAME,DISP=SHR
0   6.   SYSPRINT DD STATEMENT         (OPTIONAL)
         ---------------------
0        THIS OPTIONAL DD STATEMENT DEFINES THE MESSAGE
         DATA SET TO WHICH UT 467 WRITES ERROR AND
         TERMINATION MESSAGES, AND IS USUALLY WRITTEN :
0        //SYSPRINT  DD  SYSOUT=A
0   7.   SYSOUT DD STATEMENT           (OPTIONAL)
         -------------------
0        THIS OPTIONAL DD STATEMENT DEFINES THE REPORT
         DATA SET TO WHICH UT467 WRITES DETAILS CONCERNING
         REJECTED RECORDS.  FOR EACH DUPLICATE REJECTED,
         UT467 PRINTS THE FOLLOWING INFORMATION : THE
         SEQUENCE NUMBER OF THE REJECTED RECORD WITHIN THE
         ORIGINAL DATA SET, THE SEQUENCE NUMBER OF THE
         RETAINED DUPLICATE WITHIN THE ORIGINAL DATA SET,
         AND THE REJECTED RECORD ITSELF (IN EBCDIC, 80
         CHARACTERS TO THE LINE FOR AS MANY LINES AS ARE
         NECESSARY).  THIS STATEMENT IS USUALLY WRITTEN :
0        //SYSOUT  DD SYSOUT=A
0   8.   SYSUT2  DD STATEMENT          (OPTIONAL)
         --------------------
0        THIS OPTIONAL DD STATEMENT DEFINES AN OUTPUT
         DATA SET CONTAINING THE RETAINED RECORDS IN THEIR
         ORIGINAL SEQUENCE.  THE USER SHOULD SUPPLY
         SUCH PARAMETERS AS DSN, UNIT, DISP, VOL, SPACE,
         ETC.  AS APPROPRIATE, AND MAY CODE A DCB
         PARAMETER TO SUPPLY BLKSIZE.  IF NO DCB PARAMETER
         IS PRESENT, THE DATA SET IS ASSIGNED THE SAME
         DCB ATTRIBUTES AS THE INPUT DATA SET DEFINED
         BY THE SYSUT1 STATEMENT.
1************
 * UT467    *
 ************
0   9.   SYSUT3  DD STATEMENT          (OPTIONAL)
         --------------------
0        THIS OPTIONAL DD STATEMENT DEFINES AN OUTPUT
         DATA SET CONTAINING THE REJECTED RECORDS IN
         ASCENDING KEY SEQUENCE.  ALL NOTES UNDER SYSUT2
         APPLY TO SYSUT3 AS WELL.
0   10.  SYSUT4  DD STATEMENT          (OPTIONAL)
         --------------------
0        THIS OPTIONAL DD STATEMENT DEFINES AN OUTPUT
         DATA SET CONTAINING THE RETAINED RECORDS IN
         ASCENDING KEY SEQUENCE.  ALL NOTES UNDER
         SYSUT2 APPLY TO SYSUT4 AS WELL.
0   11.  SORTWORK DD STATEMENT         (OPTIONAL)
         ---------------------
0        THIS OPTIONAL DD STATEMENT DEFINES A SEQUENTIAL
         WORK DATA SET USED BY UT467.  DUE TO THE INTERNAL
         LOGIC OF UT467, THIS DATA SET IS AUTOMATICALLY
         ASSIGNED AN LRECL THAT IS 8 GREATER THAN THAT
         OF THE INPUT DATA SET DEFINED IN THE SYSUT1
         STATEMENT.  IN THE ABSENCE OF ANY OPTIMISING
         BLOCK SIZE SUPPLIED BY THE USER, UT467
         ARBITRARILY ASSIGNS A BLOCKING FACTOR OF 8.
         THIS STATEMENT WILL USUALLY BE WRITTEN IN THE FORM :
0        //SORTWORK  DD UNIT=SYSDA,
         //          SPACE=(CYL,(30,5)),
         //          DCB=BLKSIZE=NNN
06. NOTES
 --------
0   1.   WHILE UT467 REQUIRES AT LEAST 20K IN WHICH TO
         EXECUTE, IT AUTOMATICALLY OPTIMISES ON AVAILABLE
         CORE, AND WILL CONSEQUENTLY USE AS MUCH AS IS
         AVAILABLE.
1************
 * UT467    *
 ************
0   2.   THERE IS NO RESTRICTION ON THE SIZE OF THE RECORD
         OR OF THE KEY OTHER THAN THOSE IMPOSED BY THE SORT.
0   3.   IF THE SORTWORK DD STATEMENT IS MISSING, THE OUTPUT
         DATA SET DEFINED BY SYSUT2 WILL NOT BE CREATED,
         ALTHOUGH THE DATA SET WILL BE OPENED AND CLOSED IF
         PRESENT.
0   4.   BECAUSE OF THE INTERNAL LOGIC OF UT467, IT IS THE
         FIRST RECORD ENCOUNTERED ON THE INPUT DATA SET
         THAT IS RETAINED WHEN TWO OR MORE RECORDS WITH
         DUPLICATE KEYS ARE DETECTED. (THIS MEANS, FOR
         EXAMPLE, THAT IF A DATA SET CONTAINING TWO
         DUPLICATE BATCHES IS PROCESSED BY UT467, THEN
         ONE ENTIRE BATCH WILL BE REMOVED, RATHER THAN
         MERELY SEPARATE ELEMENTS OF EACH).
0   5.   TO SIMPLIFY USE OF THIS UTILITY, A PROCEDURE NAMED
         UT467 HAS BEEN WRITTEN WHICH CONTAINS ALL THE
         MANDATORY DD STATEMENTS EXCEPT SYSUT1, AND ALSO
         CONTAINS THE OPTIONAL SORTWORK AND SYSPRINT
         STATEMENTS.  THIS PROCEDURE IS SHOWN IN APPENDIX A.
1************
 * UT467    *
 ************
                             APPENDIX A
                             ----------
                        PROCEDURE UT 467
                        ----------------
1************
 * UT467    *
 ************
01. PURPOSE
 ----------
0   THE PURPOSE OF B2784 IS TO GIVE THE USER THE CAPABILITY TO
    EXTRACT SELECTED PAGES OF A REPORT.  THESE PARTIAL REPORTS
    CAN THEN BE PRINTED USING THE STANDARD PRINT UTILITIES.
    REPORT PAGES TO BE EXTRACTED ARE IDENTIFIED BY A UNIQUE
    CHARACTER STRING APPEARING IN A SPECIFIED HEADING LINE OR
    BY PAGE NUMBER.  THE USER MAY ALSO DIRECT PAGES OF A REPORT
    WHICH WERE NOT SELECTED TO A SPECIFIED FILE.
02. LIMITATIONS
 --------------
0   A.   A MAXIMUM OF 8 REPORT CODES CAN BE REQUESTED PER RUN.
0   B.   A MAXIMUM OF 20 OUTPUT FILES CAN BE CREATED PER RUN.
0   C.   A MAXIMUM OF 30 CONTROL CARDS CAN BE SUBMITTED PER RUN.
0   D.   ALL IDENT AND PAGE TYPE CONTROL CARDS MUST PRECEDE ALL
         DEFAULT CONTROL CARDS AND THE REPORT CODE SPECIFIED IN
         THE DEFAULT CARD MUST HAVE BEEN PREVIOUSLY DEFINED IN
         A PAGE OR IDENT CONTROL CARD.
03. INPUT
 --------
0   THE INPUT TO B2784 CONSISTS OF A SET OF CONTROL CARDS AND
    THE PRINT TAPE (THE INPUT CAN ALSO BE A DISK DATA SET) TO
    BE SCANNED.
04. OUTPUT
 ---------
0   A.   LISTING OF CONTROL CARDS SUBMITTED.
0   B.   TOTAL RECORDS READ AND WRITTEN.
0   C.   UP TO 20 OUTPUT FILES CONTAINING THOSE PAGES OF REPORTS
         SELECTED BY THE USER.
05. OPERATION
 ------------
0   THERE ARE THREE TYPES OF CONTROL CARDS WHICH MAY BE SUBMITTED.
    ONE TYPE DEFINES A REQUEST IN TERMS OF A UNIQUE CHARACTER
    STRING WHILE ANOTHER DEFINES A REQUEST IN TERMS OF PAGE
    NUMBERS.  CONTROL INFORMATION CAN START IN ANY COLUMN BUT THE
    INFORMATION MUST BE CONTAINED IN COLUMNS 1-71.  THE LAST
    CONTROL CARD TYPE DEFINES A REQUEST FOR ALL PAGES OF A GIVEN
    REPORT NOT SELECTED BY ANY OTHER CONTROL CARD TO BE DIRECTED
    TO A SPECIFIED OUTPUT FILE.  VALID CONTROL CARD FORMATS ARE
    AS FOLLOWS:
    IDENT F,T,R,L,P,'XXX....XXX'
    PAGE F,T,R,L,P,D,B,E
    DEFAULT F,R
1************
 * UT467    *
 ************
0WHERE :
0             - ONE OR MORE BLANKS
0   F         - FILE NUMBER (VALID VALUES ARE 0-19).  THIS SPECIFIES
                THE OUTPUT DESTINATION DD NAME, I.E.
                PRINT00-PRINT19.
0   T         - DEFINES THE TYPE OF PRINT TAPE TO BE SCANNED
                T=0 FOR UT363 1400 EMULATION TAPES
                T=1 FOR UT363 TAPES
                T=2 FOR B1900 TAPES WITH REPORT CODES
                T=3 FOR B1900 TAPES WITHOUT REPORT CODES
                  (THIS ALSO APPLIES TO THOSE TAPES DESIGNATED
                  AS B0090).  ALSO FOR NORMAL PRINT LINES.
0   R         - REPORT CODE SELECTED (THIS OPERAND MUST BE
                OMITTED WHEN T=3 AND SINCE OPERANDS ARE
                POSITIONAL, THE COMMA MUST BE INSERTED TO
                INDICATE THE OPERAND IS OMITTED).
0               WHEN T=0 OR 1, R CAN RANGE FROM A-H
                WHEN T=2, R CAN RANGE FROM A-Z, 0-9
0   1         - DEFINES THE LINE NUMBER WHICH CONTAINS THE PAGE
                NUMBER OR LITERAL INFORMATION TO BE CHECKED.
                (VALUES CAN RANGE FROM 1 TO 10).
0   P         - DEFINES THE POSITION WITHIN THE SELECTED LINE
                WHERE THE COMPARE FOR THE LITERAL OR PAGE NUMBER
                IS TO BEGIN.  THIS VALUE IS THE POSITION WITHIN
                THE PRINT SO THAT IF P=1 THIS INDICATES THE
                COMPARE SHOULD START WITH THE FIRST CHARACTER
                THAT IS TO BE PRINTED (VALUES CAN RANGE FROM
                1 TO 132).
0   'XXX....XXX' - DEFINES THE LITERAL WHICH IS TO BE COMPARED
              FOR IN THE PREVIOUSLY DEFINED POSITION WITHIN A
              LINE.  THIS PARAMETER IS VALID ONLY ON INDENT
              TYPE CONTROL CARDS.
0   D         - DEFINES THE NUMBER OF DIGITS IN THE PAGE NUMBER.
                (VALUES CAN RANGE FROM 1 TO 5).
1************
 * UT467    *
 ************
0   B         - DEFINES THE BEGINNING PAGE NUMBER WHEN
                OUTPUT TO THE SELECTED FILE SHOULD START.
                (MAXIMUM - 5 DIGITS.)
0   E         - DEFINES THE ENDING PAGE NUMBER WHEN OUTPUT
                TO THE SELECTED FILE SHOULD STOP.  THIS
                VALUE IS INCLUSIVE AND THEREFORE THE OUTPUT
                FILE WILL CONTAIN PAGES B THRU AND INCLUDING
                PAGE E.  IF THE USER WANTS ALL PAGES RE-
                MAINING IN THE REPORT, THE VALUE 99999 SHOULD
                BE USED. (MAXIMUM OF 5 DIGITS.)
0SINCE A GREAT DEAL OF OUTPUT CAN BE GENERATED FROM ANY
 GIVEN RUN OF B2784, IT BEHOOVES THE USER TO TAKE CARE IN
 CONSTRUCTING HIS CONTROL CARDS.  THE LINE NUMBER WHICH IS
 THE VALUE 1 DESCRIBED ABOVE, DEFINES A REPORT RECORD AS IT
 IS READ FROM TAPE AND NOT AS IT APPEARS ON THE SUBSEQUENT
 PRINTED REPORT.  BLANK LINES THAT APPEAR AS BLANK RECORDS
 ON THE TAPE ARE COUNTED AS HEADING LINES AND MUST BE AC-
 COUNTED FOR IN DETERMINING THE VALUE OF 1.  THE USER CAN
 EASILY DETERMINE THE FORMAT OF THE TAPE INVOLVED BY DUMPING
 THE FIRST FEW RECORDS AND EXAMINING THE HEADING LINES IN
 QUESTION OR EXAMINE THE EXISTING DOCUMENT DESCRIBING THE
 PROGRAM WHICH PRODUCED THE TAPE.  ALSO THE VALUE P DESCRIBED
 ABOVE DEFINES THE POSITION WITHIN THE PRINT LINE.  THIS
 INCLUDES ONLY THOSE CHARACTERS THAT ARE ACTUALLY PRINTED AND
 SHOULD NOT INCLUDE REPORT CODES AND CARRIAGE CONTROL IN-
 FORMATION.
0THE USER CANNOT COMBINE CONTROL INFORMATION TO DEFINE A
 LOGICAL AND CONDITION BETWEEN TWO CONTROL DEFINITIONS.  THE
 USER CAN ACCOMPLISH THIS CONDITION BY MAKING ANOTHER RUN
 USING THE OUTPUT FILE OF A PREVIOUS RUN AS THE INPUT.
0INPUT PRINT TAPES TO B2784 CAN BE FIXED (BLOCKED OR UN-
 BLOCKED), VARIABLE (BLOCKED OR UNBLOCKED), UNDEFINED, OR
 VARIABLE BLOCKED SPANNED.  THE VBS TAPES MUST BE OF THE
 UT363 FORMAT AND ARE ASSUMED TO BE 1400 EMULATION TAPES.
 THE TABLE BELOW SHOWS THE FORMAT OF THE OUTPUT FILES AS
 THEY ARE CREATED.
0INPUT TAPE             OUTPUT FILE
 ----------   -------------------------------------------------------
0   F         F
0   FB        FB (USER MAY SUPPLY BLKSIZE, DEFAULT TO
                  INPUT TAPE BLKSIZE)
0   V         VB (BLKSIZE=1964)
0   VB        VB (BLKSIZE=1964)
0   U         VB (BLKSIZE=1964)
0   VBS       FB (LRECL IS DETERMINED FROM THE FIRST 1400
                  RECORD, BLOCKING FACTOR OF 15)
1************
 * UT467    *
 ************
0   A RETURN CODE IS ALSO GENERATED AND CAN BE CHECKED IN
    SUBSEQUENT JOB STEPS.  THE POSSIBLE VALUES THAT THE RETURN
    CODE CAN HAVE ARE LISTED BELOW.
0   VALUE                    MEANING
    -----     --------------------------------------------------------
0        0    ALL REQUESTS WERE PROCESSED AND NO UNUSUAL
              CONDITIONS WERE ENCOUNTERED.
0        4    THE USER SPECIFIED A POSITION WITHIN A GIVEN
              LINE BUT THAT LINE WAS SHORTER IN LENGTH
              THAN THE RIGHT MOST POSITION OF CHARACTER
              STRING OR PAGE NUMBER SELECTED.
0        8    THE USER SPECIFIED A POSITION FOR A PAGE
              NUMBER BUT A NON-NUMERIC CHARACTER (LEADING
              BLANKS ARE ALLOWED) WAS FOUND IN THE FIELD.
0        12   A CONTROL CARD ERROR WAS DETECTED OR A LOGICAL
              RECORD LENGTH GREATER THAN 136 WAS READ.
0   IF A CONTROL CARD ERROR IS ENCOUNTERED, THE REMAINDER OF
    THE CONTROL CARDS ARE PROCESSED AND THE RUN IS TERMINATED
    AFTER THE LAST CONTROL CARD IS PROCESSED.  PROCESSING IS
    ALSO TERMINATED WHEN A LOGICAL RECORD GREATER THAN 136 IS
    READ.
0   IF AN ERROR CONDITION IS ENCOUNTERED WHICH PRODUCES A RETURN
    CODE OF 4 OR 8, AN APPROPRIATE ERROR MESSAGE IS PRINTED WHICH
    CROSS-REFERENCES THE ERROR BACK TO THE CONTROL CARD WHICH
    PRODUCED THE ERROR.  THE NON-NUMERIC INFORMATION FOUND IS
    PRINTED SO THE USER CAN IDENTIFY THE PROBLEM AREA (RETURN
    CODE = 8).  IF THE USER SPECIFIED A POSITION WHICH IS NOT
    PART OF THE SPECIFIED LINE (RETURN CODE = 4), A COUNT OF
    THE NUMBER OF TIMES THIS CONDITION OCCURRED IS PRINTED.
0   IF THE END OF FILE CONDITION IS ENCOUNTERED ON THE INPUT
    TAPE, A MESSAGE IS PRINTED WHICH INDICATES THIS CONDITION
    OCCURRED.
0   NOTE:     IT IS ALSO POSSIBLE FOR THE USER TO DIRECT THE
              EXTRACTED PAGES DEFINED BY SEVERAL CONTROL CARDS
              TO THE SAME OUTPUT FILE.
1************
 * UT467    *
 ************
06. EXAMPLE
0   //EXAMJOB1     JOB  ACCOUNTING INFORMATION
0   //STEP1        EXEC PGM=B2784,REGION=30K
0   //SYSPRINT     DD   SYSOUT=A
0   //SYSUT1       DD   UNIT=TAPE9,DISP=OLD,DSN=DSNAME1,
0   //                  VOL=SER=NNNNNN
0   //PRINT00      DD   UNIT=DISK,DSN=&&TEMP1,SPACE=(TRK,(5,1)),
0   //                  DISP=(,PASS)
0   //SYSIN        DD   *
0        IDENT 0,2,A,2,85,'013'
0   /*
0   THE ABOVE EXAMPLE ILLUSTRATES A REQUEST TO EXTRACT PAGES OF
    A REPORT BASED ON IDENTIFICATION IN A SPECIFIC HEADING LINE.
    THE SYSPRINT FILE IS USED TO LIST CONTROL CARDS AND TOTALS.
    THE SYSUT1 FILE DESCRIBES THE INPUT TAPE WHICH CONTAINS THE
    REPORT TO BE EXTRACTED.  THE PRINT00 FILE IS JUST A TEM-
    PORARY DATA SET TO CONTAIN THE EXTRACTED REPORT PAGES.  THE
    SYSIN FILE CONTAINS THE CONTROL CARD WHICH DEFINES THE RE-
    QUEST.  THE CONTROL CARD DEFINES THE REQUEST AS FOLLOWS:
0   A)   THE REPORT IS TO BE WRITTEN ON THE FILE DEFINED BY
         PRINT00.
0   B)   THE INPUT TAPE IS A FORMAT 2 TAPE (B1900 WITH REPORT
         CODES).
0   C)   THE REPORT TO BE EXTRACTED IS REPORT CODE A.
0   D)   THE LITERAL '013' IS TO BE COMPARED TO THE CHARACTERS
         IN POSITION 85 THROUGH 87 OF RECORD NUMBER 2 OF EACH
         PAGE OF REPORT A.
1************
 * UT467    *
 ************
0   //EXAMJOB2     JOB  ACCOUNTING INFORMATION
0   //STEP2        EXEC PGM=B2784,REGION=30K
0   //SYSPRINT     DD   SYSOUT=A
0   //SYSUT1       DD   UNIT=TAPE9,DISP=OLD,DSN=DSNAME2,
0   //                  VOL=SER=SSSSSS
0   //PRINT00      DD   UNIT=DISK,DSN=&&T1,SPACE=(TRK,(10,1)),
0   //                  DISP=(,PASS)
0   //PRINT01      DD   UNIT=DISK,DSN=&&T2,SPACE=(TRK,(5,2)),
0   //                  DISP=(,PASS)
0   //SYSIN        DD   *
0        IDENT 0,1,B,1,91,'ABC'
0        PAGE  1,1,A 1,100,3,104,122
0   /*
0   THE ABOVE EXAMPLE ILLUSTRATES HOW MULTIPLE FILES CAN BE CREATED.
    BOTH FILES PRINT00 AND PRINT01 ARE TEMPORARY FILES AND ARE
    PASSED TO A LATER JOB STEP WHICH WILL PRINT THE SELECTED REPORTS.
    THE FIRST CONTROL CARD DEFINES A REQUEST AS FOLLOWS:
0   A)   THE REPORT IS TO BE WRITTEN ON THE FILE DEFINED BY PRINT00.
0   B)   THE INPUT TAPE IS A FORMAT 1 TAPE (UT363).
0   C)   THE REPORT TO BE EXTRACTED IS REPORT CODE B.
0   D)   THE LITERAL 'ABC' IS TO BE COMPARED TO THE CHARACTERS IN
         POSITION 91 THROUGH 93 OF RECORD NUMBER 1 OF EACH PAGE OF
         REPORT B.
1************
 * UT467    *
 ************
0   THE SECOND CONTROL CARD DEFINES A REQUEST AS FOLLOWS:
0   A)   THE REPORT IS TO BE WRITTEN ON THE FILE DEFINED BY
         PRINT01.
0   B)   THE INPUT TAPE IS A FORMAT 1 TAPE (UT363).
0   C)   THE REPORT TO BE EXTRACTED IS REPORT CODE A.
0   D)   THE PAGE NUMBER IS LOCATED ON REPORT RECORD 1 IN
         POSITION 100 AND IS 3 DIGITS IN LENGTH.  THE PAGES TO
         BE EXTRACTED ARE PAGES 104 THROUGH AND INCLUDING PAGE 122.
0   //EXAMJOB3JOB  ACCOUNTING INFORMATION
    //STEP1   EXEC PGM=B2784,REGION=50K
    //SYSPRINTDD   SYSOUT=A
    //SYSUT1  DD   UNIT=TAPE9,DISP=OLD,DSN=DSNAME3,
    //             VOL=SER=NNNNNN
    //PRINT00 DD   UNIT=DISK,DSN=&&TEMP3,DISP=(,PASS),
    //             SPACE=(TRK,(5,1))
    //PRINT01 DD   UNIT=DISK,DSN=&&TEMP4,DISP=(,PASS),
    //             SPACE=(TRK,(10,1))
    //SYSIN   DD   *
         IDENT 0,2,A,2,55,'DIV=004'
         DEFAULT 1,A
0   /*
0   THE ABOVE EXAMPLE ILLUSTRATES A REQUEST TO EXTRACT PAGES OF
    A REPORT BASED ON IDENTIFICATION IN A SPECIFIC HEADING LINE
    AND A REQUEST TO DIRECT ALL PAGES OF REPORT A NOT SELECTED TO
    A SEPARATE FILE.  THE FIRST CONTROL CARD DEFINES A REQUEST
    AS FOLLOWS:
0        A)   THE PAGES OF THE REPORT SELECTED ARE TO BE WRITTEN ON
              THE FILE DEFINED BY PRINT00.
0        B)   THE INPUT TAPE IS A FORMAT 2 TAPE (B1900 WITH REPORT
              CODES).
0        C)   THE REPORT TO BE EXTRACTED IS REPORT CODE A.
0        D)   THE LITERAL 'DIV=004' IS TO BE COMPARED TO THE CHARACTERS
              IN POSITION 55 THROUGH 61 OF RECORD NUMBER 2 OF EACH PAGE
              OF REPORT A.
0   THE SECOND CARD DEFINES A REQUEST AS FOLLOWS:
0        A)   ALL PAGES OF REPORT A NOT SELECTED BY THE CONTROL CARD
              ABOVE ARE TO BE DIRECTED TO THE FILE DEFINED BY PRINT01.
1************
 * UT467    *
 ************
07  USE WITH NORMAL PRINT LINES
0   PRINT LINE IMAGES CAN ALSO BE HANDLED BY THIS UTILITY.
    THE POSITIONAL PARAMETER T IN THE CONTROL CARDS SHOULD
    BE CODED AS 3 (THE SAME AS FOR B1900 REPORT TAPE FOR-
    MAT), AND THE PARAMETER R - THE REPORT CODE - SHOULD
    BE OMITTED.
    THE PARAMETER P, WHICH DEFINES THE POSITION WITHIN THE
    LINE OF THE FIELD TO BE SEARCHED FOR A LITERAL OR PAGE
    NUMBER, IS THE POSITION WITHIN THE DATA PORTION OF THE
    PRINT LINE : I.E. THE FIRST POSITION OF THE PRINT LINE
    IMAGE, WHICH CONTAINS THE CARRIAGE CONTROL INFORMATION,
    IS NOT COUNTED.
0   EXAMPLE:
0   //STEP01  EXEC PGM=UT461
    //SYSPRINTDD   SYSOUT=A
    //PRINT00 DD   SYSOUT=A
    //PRINT01 DD   SYSOUT=A
    //SYSUT1  DD   DSN=SAM.T1674F,DISP=OLD
    //SYSIN   DD   *
       IDENT 0,3,,6,27,'023'
       IDENT 1,3,,6,27,'029'
    /*
0   THE FIRST CONTROL CARD DEFINES A REQUEST AS FOLLOWS:
0        A) THE PAGES SELECTED ARE TO BE WRITTEN TO THE
            FILE DEFINED BY PRINT00
0        B) THE SIXTH HEADING LINE IS TO BE SEARCHED FOR
            THE CHARACTER '023' IN POSITIONS 27-29.
0   THE SECOND CONTROL CARD DEFINES A REQUEST AS FOLLOWS:
0        A) THE PAGES SELECTED ARE TO BE WRITTEN TO THE
            FILE DEFINED BY PRINT01
0        B) THE SIXTH HEADING LINE IS TO BE SEARCHED FOR
            THE CHARACTER '029' IN POSITIONS 27-29.
1************
 * UT467    *
 ************
0   APRIL 29, 1974.
0   UT467
    -----
0   DAM:AC:257
0   SEE DISTRIBUTION LIST
0   SOME TIME AGO I WROTE AND DOCUMENTED UT467, WHICH SCANS
    A FILE AND DELETES ALL DUPLICATE RECORDS FROM A FILE, IN
    WHICH THE COMPARISON MAY BE MADE EITHER ON THE SPECIFIED
    KEY FIELD, OR ON THE CONTENTS OF THE ENTIRE RECORD.
0   IT CAN HAPPEN, HOWEVER, THAT A DATA SET BEING SEARCHED
    FOR DATA THAT HAS INADVERTENTLY ENTERED TWICE CAN ALSO
    VALIDLY CONTAIN DUPLICATE RECORDS. (FOR EXAMPLE, AN
    AMOUNT MAY BE HALVED AND ENTERED IN TWO IDENTICAL CARDS
    BECAUSE THE AMOUNT IS TOO LARGE TO BE ENTERED IN A SINGLE
    CARD).
0   TO ALLOW SUCH A FILE TO BE SCANNED FOR DUPLICATE BATCHES,
    I HAVE MODIFIED UT467.  OPTIONALLY, ONCE A KEY HAS BEEN
    ACCEPTED AND REJECTED ONCE, IT IS AGAIN MADE AVAILABLE
    FOR ACCEPTANCE, SO THAT IF A NUMBER OF IDENTICAL RECORDS
    ARE ENCOUNTERED THEY WILL ALTERNATELY BE ACCEPTED AND
    DELETED.
0   THUS, IF A BATCH CONTAINING DELIBERATELY DUPLICATED CARDS
    IS ITSELF DUPLICATED ON THE FILE ONLY HALF THE DUPLICATES
    WILL BE DELETED, INSTEAD OF ALL BUT ONE OF THEM BEING
    DELETED. (I.E. IF A BATCH IN WHICH THERE ARE FOUR IDEN-
    TICAL RECORDS IS DUPLICATED, ONLY 4 OF THE 8 IDENTICAL
    RECORDS WILL BE DELETED, INSTEAD OF 7).
0   THIS FACILITY, WHICH MAY BE USED WHETHER THE KEY FIELD
    IS PART OR ALL OF THE RECORD, MAY BE REQUESTED BY CODING:
0   PARM=ONCE
0   IN THE EXEC STATEMENT INVOKING THE UTILITY.
0   (PLEASE FILE THIS MEMO WITH THE UTILITY ABSTRACT FOR
    FUTURE REFERENCE).
0   D.A. MOORCROFT
