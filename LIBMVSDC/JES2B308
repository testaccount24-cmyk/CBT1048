***(ID)                            JES2B308
***(SUBSYSTEM)                     JES2
***(DESIGNER)                      D.A.MOORCROFT
***(AUTHOR)                        J.NOLS
*
***(DATE WRITTEN)                  JUNE 1977.
***(DATE TESTED)                   JUNE 1977.
***(DATE INSTALLED)                JUNE 1977.
*
***(ABSTRACT)
*
*        STANDARD JES2 SUPPLIES THE POSSIBILITY OF SPECIFYING IN THE
*         INITIALISATION DECK CERTAIN OPTIONS FOR REMOTE TERMINALS SUCH
*         AS AUTOMATICALLY DRAINING THEIR PRINTERS, AND SETTING THEIR
*         READERS TO HOLD.  HOWEVER, THIS INFORMATION IS IN EFFECT FOR ONLY
*         THE FIRST SIGN-ON AFTER STARTING JES2, AND THEREAFTER SUBSEQUENT
*         SIGN-ONS RETAIN THE DEVICE STATUS THAT OBTAINED WHEN THE REMOTE
*         SIGNED OFF.  THIS IS UNACCEPTABLE TO US, BECAUSE THE OPERATIONAL
*         PRACTICE AT SOME REMOTE LOCATIONS REQUIRES THAT THE OPTIONS APPLY
*         TO ALL SIGN-ONS.  THIS MODIFICATION REFRESHES THE INITIALISATION
*         DECK OPTIONS PRIOR TO EVERY SIGN-ON.
*
*        ( UNDER HASP 3.1 THIS WAS MODIFICATION NUMBER 'M044' ).
*
***(LOGIC SUMMARY)
*
*        AT AN APPROPRIATE POINT IN STANDARD REMOTE INITIALISATION
*         PROCESSING, AFTER THE REMOTE DDCT HAS BEEN LOCATED, INVOKE
*         THIS EXIT WITH AN UNQUALIFIED $CBAL, THUS :-
*              $CBAL  B308
*        WITHIN THE EXIT ITSELF, LOCATE THE ADCT CORRESPONDING TO THE
*         REMOTE'S DCT, AND RESET THE INITIALISATION OPTIONS THAT WERE
*         PRESERVED IN THE ADCT BY THE AUXILIARY INITIALISATION ROUTINE
*         ( SEE JES2B001 ).  RETURN TO JES2 WITHOUT REGARD TO THE SETTING
*         OF THE COND CODE IN THE PSW.
*
***(INSTALLATION)
*
*        THIS IS A MONSANTO JES2 MOD DYNAMICALLY LOADED AT
*        INITIALISATION TIME UPON REQUEST VIA AN 'EXIT=' CONTROL CARD.
*
***(TESTING)
*
*        WITH THE JES2 TEST SYSTEM :-
*
*         1. SIGN-ON REMOTE14.
*         2. ENTER $TR14.RD1,H=Y TO HOLD THE READER.
*         3. ENTER $PR14.PR1 TO DRAIN THE PRINTER.
*         4. DISCONNECT REMOTE14.
*         5. SIGN-ON REMOTE14.
*         6. ENTER $DU,RMT14 TO DISPLAY STATUS OF R14 DEVICES.
*
*          RESULT TO BE OBTAINED :-
*
*          _IF PRINTER 'ACTIVE' OR 'INACTIVE' AND IF READER
*            NOT HELD, TEST GOOD AND TERMINATED.
*          _IF NOT (PRINTER DRAINED AND READER HELD), CHECK
*            IF 'DCT=REMOTE14' CONTROL CARD USED AT IPL OF
*            THIS SESSION CONTAINS 'NOHOLDRD' AND 'NODRYNPR' OPERANDS ;
*         ____IF YES, SOMETHING WRONG WITH THIS MOD.
*         ____IF NO, CORRECT THAT, $PJES2, S JES2 AND
*              REPEAT THE SIX ABOVE STEPS.
