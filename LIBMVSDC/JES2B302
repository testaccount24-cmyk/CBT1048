***(ID)                            JES2B302
***(SUBSYSTEM)                     JES2
***(DESIGNER)                      D.A.MOORCROFT
***(AUTHOR)                        D.H.CARTWRIGHT
*
***(DATE WRITTEN)                  APRIL 1977.
***(DATE TESTED)                   APRIL 1977.
***(DATE INSTALLED)                APRIL 1977.
*
***(ABSTRACT)
*
*        TO ENSURE THAT THE LOCAL OPERATOR HAS TOTAL CONTROL OF THE WORK
*         FLOWING THROUGH THE MACHINE, WE RESTRICT THE USE OF THE '$AJ'
*         COMMAND FOR JOBS ON THE EXECUTION QUEUE TO LOCAL OPERATORS ONLY.
*
*        ( UNDER HASP 3.1 THIS WAS MODIFICATION NUMBER 'M004' ).
*
***(LOGIC SUMMARY)
*
*        WITHIN THE AUXILIARY COMMAND PROCESSOR ( SEE JES2B002 ), INTERCEPT
*         COMMANDS OF THE FORM ''$AJNNN'' AND ''$A'AAA'', AND DETERMINE IF
*         THE JOB IS AWAITING EXECUTION.  IF IT IS NOT AWAITING EXECUTION,
*         SET THE COND CODE IN THE PSW TO LOW AND RETURN TO JES2,
*         SO THAT NORMAL JES2 PROCESSING OCCURS.  IF IT IS AWAITING EXECUTION
*         AND THE COMMAND WAS SUBMITTED BY THE LOCAL OPERATOR OR BY A REMOTE
*         AUTHORISED TO SUBMIT ALL COMMANDS ( OPTION 'ALLCOMM' IN THE 'DCT'
*         CONTROL CARD ), SET THE COND CODE IN THE PSW TO LOW AND RETURN TO
*         ALLOW NORMAL JES2 PROCESSING.  IF THE JOB IS AWAITING EXECUTION AND
*         THE COMMAND WAS SUBMITTED BY A REMOTE NOT AUTHORISED FOR ALL COMMANDS,
*         ISSUE THE MESSAGE
*              HSPB302 RELEASE REQUEST ILLEGAL - JOB AWAITING EXEC
*         SET THE COND CODE TO EQUAL, AND RETURN TO JES2, BYPASSING JES2
*         PROCESSING.
*
***(INSTALLATION)
*
*        THIS MOD. IS DYNAMICALLY LOADED AT INITILISATION TIME
*         UPON REQUEST VIA AN 'EXIT=' CONTROL CARD.
*
***(TESTING)
*
*
*        TO TEST :-
*
*         ENTER AN '$AJXXX' COMMAND FOR A JOB IN 'HELD' AWAITING
*          EXECUTION, TO BE ENTERED FROM THE THREE FOLLOWING CONSOLES :-
*
*             1) OPERATOR CONSOLE  -----> COMMAND MUST BE ACCEPTED
*             2) REMOTE14 CONSOLE  -----> COMMAND MUST BE ACCEPTED
*             3) REMOTE13 CONSOLE  -----> COMMAND MUST BE REJECTED
*                                         ========================
*                                                     *
*                                                    ***
*                                                     *
*                                            IF YES, TESTS GOOD AND
*                                              TERMINATED.
*
*                IF NO, 'DCT=' CONTROL CARDS HAVE BEEN CHANGED SINCE
*                 PRECEDING TESTS OR SOMETHING WRONG WITH THIS MOD.
