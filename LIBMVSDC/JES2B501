***(ID)                            JES2B501
***(SUBSYSTEM)                     JES2
***(DESIGNER)                      D.A.MOORCROFT
***(AUTHOR)                        D.A.MOORCROFT
*
***(DATE WRITTEN)                  JUNE 1977.
***(DATE TESTED)                   JUNE 1977.
***(DATE INSTALLED)                JUNE 1977.
*
***(ABSTRACT)
*
*        OUR MAIN-STORAGE MANAGEMENT PHILOSOPHY IS :-
*         .DEFAULT REGION SIZE IS 64K, AND STEPS REQUIRING MORE MUST
*          REQUEST IT IN THE EXEC STATEMENT.  ( THE DEFAULT IS LOW BECAUSE
*          WE TAKE THE VIEW THAT 'SMALL IS BEAUTIFUL', AND SMALL MODULES
*          TEND TO BE EASIER TO WRITE, EASIER TO WRITE WELL, AND EASIER TO
*          MAINTAIN.  WE DO NOT ACTUALLY FORBID BIG PROGRAMS, BUT BY SETTING
*          A RELATIVELY LOW DEFAULT REGION SIZE, WE DO ENCOURAGE PEOPLE TO
*          THINK ABOUT WHAT THEY ARE DOING.  FURTHERMORE, IT IS OUR
*          INTENTION TO GET THE SYSTEM TO DISCRIMINATE AGAINST BIG JOBS IN
*          FAVOUR OF LITTLE ONES. )
*         .REGION= IS DELETED FROM JOB CARDS.  ( THIS IS IN THE USER'S
*          BEST INTEREST BECAUSE THE CHARGE-OUT ALGORITHM CHARGES FOR
*          THE GREATER OF CORE USED AND CORE REQUESTED.  BY ONLY ALLOWING
*          HIM TO SPECIFY REGION AT THE STEP LEVEL, HE WILL NOT PAY
*          UNNECESSARILY FOR STEPS THAT REQUIRE LESS STORAGE THAN
*          HIS LARGEST STEP ).
*
*        THIS MODIFICATION - WHICH IS INSERTED IN THE JES2 INTERNAL TEXT
*         PROCESSING EXIT - SCANS JOB CARDS FOR A REGION PARAMETER, AND
*         DELETES IT IF FOUND.
*
*
***(LOGIC SUMMARY)
*
*        IN HASPXEQ AT AN APPROPRIATE POINT IN 'PROCESS JOB
*         STATEMENT' ROUTINE, INVOKE THIS EXIT WITH AN UNQUALIFIED
*         $CBAL, THUS :-
*
*          $CBAL JES2B501                               U2124200
*
*        WITHIN THE EXIT ITSELF, SCAN THE JOB STATEMENT INTERNAL
*         TEXT LOOKING FOR 'REGION' PARAMETER.
*
*          IF NOT FOUND, RETURN TO JES2.
*          IF FOUND, REPLACE IT BY BLANKS AND OVERWRITE THESE
*           BLANKS WITH THE REST OF INTERNAL TEXT (IF ANY),
*           UPDATE TOTAL LENGTH AND RETURN TO JES2.
*
***(INSTALLATION)
*
*        THIS MOD. IS DYNAMICALLY LOADED AT INITILISATION
*         TIME UPON REQUEST VIA AN 'EXIT=' CONTROL CARD.
*
***(TESTING)
*
*        TO TEST :-
*
*         SUBMIT AND EXECUTE THE JOB 'TESTB501' WITH THE
*          JES2 TEST SYSTEM.
*
*           YOU WILL FIND THIS JOB IN 'LIBRARYN.MVS' DATA SET,
*            MEMBER NAME 'TESTB501', PASSWORD 'T501'.
*
*        RESULT TO BE OBTAINED :-
*
*         IN THE JCL OUTPUT LISTING, YOU MUST CHECK IN THE ACCOUNTING
*          BOX OF THE UNIQUE EXECUTED STEP IF THE REGION SIZE
*          IS '64K'.
*
*             IF YES, THE TEST IS GOOD AND TERMINATED.
*             IF NO AND IF THE NUMBER OF K'S IS 260, THERE IS
*              SOMETHING WRONG WITH THIS MOD.
*             IF NO AND IF THE NUMBER OF K'S IS NOT 260,
*              THIS MEANS THAT THIS MOD. IS PROBABLY GOOD, BUT
*              THE DEFAULT REGION SIZE HAS BEEN CHANGED AND
*              THIS DOCUMENTATION HAS NOT BEEN UPDATED.
*
*        'TESTB501' JOB :-
*
*/TESTB501     JOB  (1192,5),'A TEST FOR JES2',CLASS=N,REGION=260K
*/STEP01       EXEC PGM=IEFBR14
