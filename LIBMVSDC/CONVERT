***(ID)                            CONVERT
***(SUBSYSTEM)                     DYNALLOC
***(DESIGNER)                      J.E.ABBEY
***(AUTHOR)                        J.E.ABBEY
*
***(DATE WRITTEN)                  FEB-MAR 1977
***(DATE TESTED)
***(DATE INSTALLED)
*
***(ABSTRACT)
*
*          SCANTEXT IS A UTILITY MODULE TO FACILITATE THE USE OF THE NEW
*        SERVICE AVAILABLE UNDER MVS OF DYNAMIC ALLOCATION. BASICALLY, THE
*        MODULE ACCEPTS AS INPUT A STANDARD JCL DD STATEMENT AND USES
*        THIS TO PERFORM A DYNAMIC ALLOCATION OR UNALLOCATION AS REQUESTED.
*
***(LOGIC SUMMARY)
*
*          THE MODULE OPERATES BY SCANNING THE INPUT CARD IMAGE WITH THE
*        'SCAN' MACRO TO PRODUCE A CHAIN OF EIGHT BYTE  BLOCKS DESCRIBING
*        THE OPERANDS THAT HAVE BEEN CODED. ONLY BASIC SYNTAX CHECKING
*        IS PERFORMED, SINCE MOST OF THE JCL PASSED TO THE MODULE WILL
*        HAVE BEEN PRODUCED BY OTHER PROGRAMS. AFTER THE DDNAME AND THE
*        'DD' OPERATION CODE HAVE BEEN VERIFIED, THE MODULE TAKES EACH
*        KEYWORD IT FINDS, VERIFIES IT AGAINST A TABLE, OBTAINS CORE
*        FOR THE TEXT STRING AND BUILDS UP IN THIS STRING THE APPROPRIATE
*        PARAMETERS FOR THE OPERANDS THAT HAVE BEEN CODED FOR THIS
*        KEYWORD.
*          WHEN THE LIST IS COMPLETE, THE MODULE INVOKES DYNAMIC ALLOCATION
*        BY ISSUING SVC 99 UNLESS THE CALLER HAS REQUESTED CONVERSION
*        ONLY, IN WHICH CASE, THE ADDRESSES OF THE ALLOCATION AND
*        UNALLOCATION TEXT STRINGS ARE RETURNED. IN ALL CASES A CODE
*        IS RETURNED TO INDICATE THE SUCCESS OR FAILURE OF THE CONVERSION
*        AND OR DYNAMIC ALLOCATION/UNALLOCATION.
*          THE INPUT PARAMETER LIST TO SCANTEXT CONTAINS UP TO FIVE
*        ENTRIES AS FOLLOWS:
*          1)  ADDRESS OF THE JCL STATEMENT PRECEDED BY A HALFWORD WHICH
*              CONTAINS A VALUE NOT LESS THAN THE MAXIMUM LENGTH OF THE
*              JCL CARD ITSELF. ( THIS VALUE IS NOT CRITICAL. ITS PURPOSE
*              IS TO LIMIT THE EXTENT OF THE SCAN AND PREVENT 0C4 ABENDS.)
*          2)  FUNCTION BYTE.      'C' - CONVERT STATEMENT TO TEXT.
*                                  'A' - ALLOCATE THE DATA SET SPECIFIED.
*                                  'D' - DEALLOCATE THE DATA SET.
*          3)  RETURN CODE.        '0' - REQUESTED OPERATION WAS SUCCESSFUL.
*                                  '>0'- OPERATION UNSUCCESSFUL. SEE CODE.
*          4)  FULLWORD TO CONTAIN ADDRESS OF ALLOCATION TEXT STRING.
*              ONLY NEEDED IF CONVERT OPERATION REQUESTED.
*          5)  FULLWORD TO CONTAIN ADDRESS OF DE-ALLOCATION TEXT STRING.
*              ONLY NEEDED FOR CONVERT OPERATION.
*
*        THE ABOVE PARAMETER LIST (MINIMUM 3 MAXIMUM 5) IS PASSED TO THE
*        PROGRAM BY STANDARD LINKAGE CONVENTIONS USING REG 1.
*
***(INSTALLATION)
*
*          THE MODULE RESIDES AS A LOAD MODULE ON SYS1.LINKLIB2 UNDER THE
*        NAMES 'SCANTEXT' AND 'UT501'. TO ASSEMBLE AND LINK THE MODULE,
*        RUN THE JOB CALLED 'SCANTEXT' WHICH IS ON LIBRARYN.MVS. THE MODULE
*        IS SUBSEQUENTLY READY FOR USE. NOTE: THE MODULE MUST BE INVOKED
*        DYNAMICALLY TO ALLOW FOR LATER ENHANCEMENTS/RESTRICTIONS.
*
***(TESTING)
*
*          THE INSTALLATION JOBSTREAM CONTAINS, AS WELL AS THE ASSEMBLY
*        AND LINK, A TEST JOB TO ALLOCATE A DATA SET & THEN UNALLOCATE IT
*        AND VERIFY THAT THIS HAS BEEN PERFORMED.
*
