***(ID)                            JES2B332
***(SUBSYSTEM)                     JES2
***(DESIGNER)                      J.NOLS
***(AUTHOR)                        J.NOLS
*
*
***(DATE WRITTEN)                  APRIL 1978.
***(DATE TESTED)                   APRIL 1978.
***(DATE INSTALLED)                APRIL 1978.
*
*
***(ABSTRACT)
*
*        THE MONSANTO JES2 JCL /*OUTHOLD SETS A JOB IN ONE OR SEVERAL
*         HOLD STATUS AFTER EXECUTION, WHEN IT GOES TO HARDCOPY OUTPUT
*         QUEUE. IT IS VERY USEFUL IN CASE THE USER WANTS TO CONTROL
*         HIS JOB ON PRINTER OR PUNCH (PARTICULARLY WHEN THE PRINT-OUT
*         IS CONFIDENTIAL).
*
*        /*OUTHOLD DO NOT WORK WITH /*ROUTEX AND /*GIMMEX,
*         MUST BE PLACED AFTER THE JOB CARD (BUT ANYWHERE WITH
*         OTHER(S) JES2 JCL) AND OPERANDS (IF PRESENT) MUST START
*         IN POSITIONS 11 TO 16.
*
*         CONTROL CARD FORMAT AND OPERANDS :-
*
*            0        1         2         3         4         5
*            12345678901234567890123456789012345678901234567890
*
*            /*OUTHOLD (BLANK)
*            /*OUTHOLD HOLD
*            /*OUTHOLD SOFT
*            /*OUTHOLD KEEP
*            /*OUTHOLD USER
*            /*OUTHOLD HOLD+USER+SOFT+KEEP
*
*          OPERANDS :-
*
*            (BLANK)  - IF NO OPERANDS, THE JOB WILL BE SET IN NORMAL HOLD
*            HOLD     - THE JOB WILL BE SET IN NORMAL HOLD.
*            SOFT     - THE JOB WILL BE SET IN SOFT HOLD.
*            KEEP     - THE JOB WILL BE SET IN KEEP HOLD.
*            USER     - THE JOB WILL BE SET IN USER HOLD.
*
*            ALL THESE OPERANDS CAN BE COMBINED WITH THE '+' SIGN
*             AS DELIMITER.
*
*            USAGE OF SOFT AND KEEP OPERANDS IS RESERVED TO 'LOCAL'.
*
*
***(LOGIC SUMMARY)
*
*        THIS MOD USES THE ADDITIONAL JQE FLAG BYTE 1 (AJQEFLG1)
*         WITH FOUR EQUATES :-
*
*             'AJQFOUTH' EQU(2) HARD HOLD REQUESTED IF ON.
*             'AJQFOHST' EQU(4) SOFT HOLD REQUESTED IF ON.
*             'AJQFOHKP' EQU(8) KEEP HOLD REQUESTED IF ON.
*             'AJQFOHUR' EQU(16) USER HOLD REQUESTED IF ON.
*
*        HASPRDR  -  AT APPROPRIATE PLACE IN HASP INPUT SERVICE
*                     MAIN PROCESSOR, EXIT WITH A $CBAL, THUS :-
*
*                      $CBAL JES2B332,EP=1,YES=RJCLCARD  R0741600
*
*                    IN THE EXIT ITSELF, TEST FOR AN '/*OUTHOLD'
*                     CONTROL CARD, IF NOT FOUND RETURN TO JES2
*                     WITH 'NO' AS COND CODE. IF FOUND, SCAN IT
*                     LOOKING FOR OPERAND(S), IF SOMETHING INVALID
*                     FORCE A JCL ERROR BY REPLACING '/*0UT.' BY
*                     '//OUT.' AND RETURNNING TO JES2 WITH 'YES' AS
*                     COND CODE. IF OPERAND(S) VALID, SET ON
*                     APPROPRIATE FLAG(S) INTO 'AJQEFLG1' (SEE ABOVE
*                     NOTE) AND RETURN TO JES2 WITH 'YES' AS COND CODE.
*
*        HASPNUC  -  AT APPROPRIATE PLACE IN HASP JOB QUEUE MANAGER,
*                     IN $QADD ROUTINE, EXIT WITH A $CBAL, THUS :-
*
*                      $CBAL JES2B332,EP=2              P0809200
*
*                    IN THE EXIT ITSELF, EXAMINE THE JQE TO KNOW IF CURRENT
*                     JOB WILL BE QUEUED IN HARDCOPY QUEUE.
*                        IF NO, RETURN TO JES2.
*                        IF YES, TEST IF /*OUTHOLD PRESENT FOR THIS JOB.
*                           IF NO, RETURN TO JES2.
*                           IF YES, SET ON APPROPRIATE 'AJQEHOLD' FLAG(S)
*                            BY USING '$AUXFLAG' MACRO, SET OFF THE FOUR
*                            /*OUTHOLD FLAGS (TO AVOID RE-PROCESSING IF
*                            ONE OF THESE JOBS IS RE-QUEUED BY OPERATOR)
*                            AND RETURN TO JES2.
*
***(INSTALLATION)
*
*
*        THIS IS A MONSANTO JES2 MODIFICATION DYNAMICALLY LOADED AT
*        INITIALISATION TIME UPON REQUEST VIA AN 'EXIT=' CONTROL CARD.
*
*
***(TESTING)
*
*        TO TEST :-
*
*         SUBMIT AND EXECUTE THE JOBS 'TESTB332' WITH THE JES2
*          TEST SYSTEM.
*
*         YOU WILL FIND THESE JOBS IN 'LIBRARYN.MVS' DATA SET,
*           MEMBER 'TESTB332', PASSWORD 'T332'.
*
*
*        RESULT TO BE OBTAINED :-
*
*         CHECK IF ABOVE JOBS ARE RETAINED IN HARDCOPY QUEUE WITH
*          WITH THE 'HOLD' STATUS REQUESTED IN THE /*OUTHOLD STATEMENT.
*
